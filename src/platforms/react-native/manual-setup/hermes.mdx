---
title: Hermes
sidebar_order: 30
description: "Learn about using the Hermes engine with our React Native SDK."
redirect_from:
  - /platforms/react-native/hermes/
---

Sentry added support for `react-native` builds that use the `hermes` engine, which required changes to the sentry SDK, `sentry-cli` as well as Sentry itself.

Sentry customers using the SaaS product (sentry.io) will need to update the SDK, and `sentry-cli`.
The minimum required version for the SDK is `@sentry/react-native` [SDK version `1.3.3`](https://github.com/getsentry/sentry-react-native/releases/tag/1.3.3),
and `@sentry/cli` [version `1.51.1`](https://github.com/getsentry/sentry-cli/releases/tag/1.51.1).

For Sentry open source, self-hosted users, the minimum version required is [f07352b](https://hub.docker.com/r/getsentry/sentry/tags?page=1&name=f07352b).

Other than making sure you have the minimum version of the SDK, Sentry itself is all you need besides the standard integration described in the [React Native Sentry documentation](/clients/react-native/).

## Source Maps

If you do not need custom sourcemaps, the `sentry.gradle` build step fully supports Hermes source maps.

## Custom Source Maps

When manually bundling and building React Native apps, building Hermes bundles is a three-step process, each of which creates a different source map.

1. Bundling / minifying using `metro` (`react-native`) to get the packager source map => `.packager.map`:

```bash {tabTitle:iOS}
npx react-native bundle --platform ios --dev false --entry-file index.js --bundle-output main.jsbundle --sourcemap-output main.jsbundle.packager.map
```

```bash {tabTitle:Android}
npx react-native bundle --platform android --dev false --entry-file index.js --bundle-output index.android.bundle --sourcemap-output index.android.bundle.packager.map
```

2. Compiling to bytecode using `hermes` to get the compiler source map => `.compiler.map`:

- `{OS-BIN}` is either `osx-bin`, `win64-bin`, or `linux-bin` depending on which operating system you are using.

```bash {tabTitle:iOS}
node_modules/hermes-engine/{OS-BIN}/hermesc -O -emit-binary -output-source-map -out=main.jsbundle.compiler.map main.jsbundle
```

```bash {tabTitle:Android}
node_modules/hermes-engine/{OS-BIN}/hermesc -O -emit-binary -output-source-map -out=index.android.bundle.compiler.map index.android.bundle
```

3. Merging the two source maps using `compose-source-maps` to get the final source map => `.map`:

```bash {tabTitle:iOS}
node react-native/scripts/compose-source-maps.js main.jsbundle.packager.map main.jsbundle.compiler.map -o main.jsbundle.map
```

```bash {tabTitle:Android}
node react-native/scripts/compose-source-maps.js index.android.bundle.packager.map index.android.bundle.compiler.map -o index.android.bundle.map
```

Then upload the bundle from the first command (`main.jsbundle` or `index.android.bundle`), and the source map from the third command (`main.jsbundle.map` or `index.android.bundle.map`) to Sentry via Sentry CLI.

You can read more about custom source maps [over at the Source Maps page](/platforms/react-native/manual-setup/sourcemaps/#configure-cli). Note that this three-stage bundle step replaces the regular bundle step.

```bash {tabTitle:iOS}
node_modules/@sentry/cli/bin/sentry-cli releases \
    files RELEASE_NAME \
    upload-sourcemaps \
    --dist DISTRIBUTION_NAME \
    --strip-prefix /path/to/project/root \
    --rewrite main.jsbundle main.jsbundle.map
```

```bash {tabTitle:Android}
node_modules/@sentry/cli/bin/sentry-cli releases \
    files RELEASE_NAME \
    upload-sourcemaps \
    --dist DISTRIBUTION_NAME \
    --strip-prefix /path/to/project/root \
    --rewrite index.android.bundle index.android.bundle.map
```
